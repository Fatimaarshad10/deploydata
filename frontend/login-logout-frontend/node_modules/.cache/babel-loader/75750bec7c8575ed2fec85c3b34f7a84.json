{"ast":null,"code":"import _slicedToArray from\"C:/Users/Dell/Desktop/login-logout/backend/frontend/login-logout-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/Dell/Desktop/login-logout/backend/frontend/login-logout-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Dell/Desktop/login-logout/backend/frontend/login-logout-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useState}from'react';import{Form,Row,FormGroup,Label,Input,Button}from\"reactstrap\";import{useNavigate}from\"react-router-dom\";import'../css/login.css';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var UserLoader=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.open('http://localhost:8000/auth/google',\"_self\");case 1:case\"end\":return _context.stop();}}},_callee);}));return function UserLoader(){return _ref.apply(this,arguments);};}();var facebook=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:window.open('http://localhost:8000/auth/facebook',\"_self\");case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function facebook(){return _ref2.apply(this,arguments);};}();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userId=_useState4[0],setuserId=_useState4[1];var navigate=useNavigate();var LoginUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"/auth/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,userId:userId})});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:data=_context3.sent;console.log(data);if(data.username===username){window.alert(\"user is login\");navigate('/');}else if(response.ok){window.alert(\"user is register\");navigate('/');}else{window.alert(\"user is not login and register failed\");}case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function LoginUser(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login-heading\",children:\"login\"}),/*#__PURE__*/_jsxs(Form,{className:\"login-form\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"UserName\"}),/*#__PURE__*/_jsx(Input,{name:\"name\",type:\"name\",value:username,onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"userId\"}),/*#__PURE__*/_jsx(Input,{name:\"name\",type:\"name\",value:userId,onChange:function onChange(e){return setuserId(e.target.value);}})]})]}),/*#__PURE__*/_jsx(Button,{className:\"login-button\",onClick:function onClick(){return LoginUser();},children:\" Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return UserLoader();},children:\"Google\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return facebook();},children:\"Facebook\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","Form","Row","FormGroup","Label","Input","Button","useNavigate","Login","UserLoader","window","open","facebook","username","setName","userId","setuserId","navigate","LoginUser","fetch","method","headers","body","JSON","stringify","response","json","data","console","log","alert","ok","e","target","value"],"sources":["C:/Users/Dell/Desktop/login-logout/backend/frontend/login-logout-frontend/src/components/login.js"],"sourcesContent":["import React , {useState} from 'react';\r\nimport { Form, Row, FormGroup, Label, Input, Button } from \"reactstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport '../css/login.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nfunction Login() {\r\n  const UserLoader = async()=>{\r\n    window.open('http://localhost:8000/auth/google',\"_self\")\r\n    \r\n  }\r\n  const facebook = async()=>{\r\n    window.open('http://localhost:8000/auth/facebook',\"_self\")\r\n    \r\n  }\r\n\r\n  const [username, setName] = useState(\"\");\r\n  const [userId, setuserId] = useState(\"\"); \r\n  \r\n  const navigate = useNavigate();\r\n  const LoginUser = async () => {\r\n      const response = await fetch(\"/auth/register\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          username,\r\n          userId\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      console.log(data)\r\n    if(data.username === username){\r\n      window.alert(\"user is login\");\r\n      navigate('/')\r\n\r\n    }else if (response.ok) {\r\n      window.alert(\"user is register\");\r\n      navigate('/')\r\n\r\n      } \r\n      else{\r\n        window.alert(\"user is not login and register failed\");\r\n\r\n      }\r\n      \r\n   \r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"login-container\">\r\n        <h1 className=\"login-heading\">login</h1>\r\n        <Form className=\"login-form\">\r\n          <Row>\r\n            <FormGroup>\r\n              <Label >UserName</Label>\r\n              <Input\r\n               name=\"name\"\r\n               type=\"name\"\r\n                value={username}\r\n                onChange={(e) => setName(e.target.value)}\r\n\r\n               \r\n              />\r\n            </FormGroup>\r\n            <FormGroup>\r\n              <Label>userId</Label>\r\n              <Input\r\n               name=\"name\"\r\n               type=\"name\"\r\n                value={userId}\r\n                onChange={(e) => setuserId(e.target.value)}/>\r\n            </FormGroup>\r\n          </Row>\r\n\r\n          <Button className=\"login-button\" onClick={() => LoginUser()} > Login</Button>\r\n        </Form>\r\n        <div>\r\n      <button onClick={()=>UserLoader()}>Google</button>\r\n      <button onClick={()=>facebook()}>Facebook</button>\r\n\r\n      </div>\r\n       \r\n      </div>\r\n      \r\n     \r\n    </>\r\n    \r\n  );\r\n}\r\n\r\nexport default Login;\r\n\r\n"],"mappings":"6eAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAO,OAAO,CACtC,OAASC,IAAI,CAAEC,GAAG,CAAEC,SAAS,CAAEC,KAAK,CAAEC,KAAK,CAAEC,MAAM,KAAQ,YAAY,CACvE,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,kBAAkB,CACzB,MAAO,sCAAsC,CAAC,6IAC9C,QAASC,MAAK,EAAG,CACf,GAAMC,WAAU,4FAAG,qIACjBC,MAAM,CAACC,IAAI,CAAC,mCAAmC,CAAC,OAAO,CAAC,uDAEzD,kBAHKF,WAAU,0CAGf,CACD,GAAMG,SAAQ,6FAAG,0IACfF,MAAM,CAACC,IAAI,CAAC,qCAAqC,CAAC,OAAO,CAAC,yDAE3D,kBAHKC,SAAQ,2CAGb,CAED,cAA4BZ,QAAQ,CAAC,EAAE,CAAC,wCAAjCa,QAAQ,eAAEC,OAAO,eACxB,eAA4Bd,QAAQ,CAAC,EAAE,CAAC,yCAAjCe,MAAM,eAAEC,SAAS,eAExB,GAAMC,SAAQ,CAAGV,WAAW,EAAE,CAC9B,GAAMW,UAAS,6FAAG,mLACSC,MAAK,CAAC,gBAAgB,CAAE,CAC7CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBX,QAAQ,CAARA,QAAQ,CACRE,MAAM,CAANA,MACF,CAAC,CACH,CAAC,CAAC,QATIU,QAAQ,uCAUKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,gBACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACnB,GAAGA,IAAI,CAACd,QAAQ,GAAKA,QAAQ,CAAC,CAC5BH,MAAM,CAACoB,KAAK,CAAC,eAAe,CAAC,CAC7Bb,QAAQ,CAAC,GAAG,CAAC,CAEf,CAAC,IAAK,IAAIQ,QAAQ,CAACM,EAAE,CAAE,CACrBrB,MAAM,CAACoB,KAAK,CAAC,kBAAkB,CAAC,CAChCb,QAAQ,CAAC,GAAG,CAAC,CAEb,CAAC,IACG,CACFP,MAAM,CAACoB,KAAK,CAAC,uCAAuC,CAAC,CAEvD,CAAC,wDAGJ,kBA5BKZ,UAAS,2CA4Bd,CACD,mBACE,sCACE,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,WAAI,SAAS,CAAC,eAAe,mBAAW,cACxC,MAAC,IAAI,EAAC,SAAS,CAAC,YAAY,wBAC1B,MAAC,GAAG,yBACF,MAAC,SAAS,yBACR,KAAC,KAAK,uBAAkB,cACxB,KAAC,KAAK,EACL,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACV,KAAK,CAAEL,QAAS,CAChB,QAAQ,CAAE,kBAACmB,CAAC,QAAKlB,QAAO,CAACkB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAGzC,GACQ,cACZ,MAAC,SAAS,yBACR,KAAC,KAAK,qBAAe,cACrB,KAAC,KAAK,EACL,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACV,KAAK,CAAEnB,MAAO,CACd,QAAQ,CAAE,kBAACiB,CAAC,QAAKhB,UAAS,CAACgB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,GACrC,GACR,cAEN,KAAC,MAAM,EAAC,SAAS,CAAC,cAAc,CAAC,OAAO,CAAE,yBAAMhB,UAAS,EAAE,EAAC,oBAAiB,GACxE,cACP,oCACF,eAAQ,OAAO,CAAE,yBAAIT,WAAU,EAAE,EAAC,oBAAgB,cAClD,eAAQ,OAAO,CAAE,yBAAIG,SAAQ,EAAE,EAAC,sBAAkB,GAE5C,GAEA,EAGL,CAGP,CAEA,cAAeJ,MAAK"},"metadata":{},"sourceType":"module"}